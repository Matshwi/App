<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daai Epp | Home</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/delivery.css">
    



</head>
<body>
    
<!-- header section starts      -->

<header>

    <a href="#" class="logo"><i class="fas fa-utensils"></i>Daai-Epp.</a>

    <nav class="navbar">
        <a onclick="home()">home</a>
        <a onclick="todo()">todo</a>
        <a class="active" href="#">delivery</a>
        <a onclick="cart()">cart</a>
        <a onclick="checkout()">checkout</a>
        <a onclick="chat()">chat to store</a>
    </nav>

    <div class="icons">
        <i class="fas fa-bars" id="menu-bars"></i>
        <i class="fas fa-search" id="search-icon"></i>
        <a href="#" class="fas fa-heart"></a>
        <a href="#" class="fas fa-shopping-cart"></a>
    </div>

</header>

<!-- header section ends-->

<!-- search form  -->

<form action="" id="search-form">
    <input type="search" placeholder="search here..." name="" id="search-box">
    <label for="search-box" class="fas fa-search"></label>
    <i class="fas fa-times" id="close"></i>
</form>

<!-- home section starts  -->



<!-- Categories section ends -->

<div class="container">
  <span style="font-size:30px; cursor: pointer;" onclick="openNav()">â˜°</span>
  <div class="iphone">
    
    <div class="header">
      <div class="order-summary">
        <div class="order-status">Arriving date</div>
        <div class="order-date">30/10/2021</div>
        <div class="order-day">Saturday</div>
      </div>
      <div class="action-btn">
        <div class="back-btn"><i class="far fa-long-arrow-left"></i></div>
      </div>
    </div>
    <div class="hero-img-container">
      <div class="triangle1"></div>
      <div class="arc"></div>
      <div class="pattern"></div>
      <img src="https://drive.google.com/uc?id=15iXUI6DkRr5Zcp0yH5uF2U47ycr-WzUY" class="hero-img">
    </div>
    <div class="order-status-container">
     <div class="status-item first">
       <div class="status-circle" id="today"></div>
       <div class="status-text">
         today
       </div>
      </div>
      <div class="status-item second">
       <div class="status-circle" id="packaged"></div>
       <div class="status-text">
         Packaged
       </div>
      </div>
      <div class="status-item">
        <div class="status-circle" id="delivery"></div>
        <div class="status-text green">
        <span>Out</span><span>for delivery</span>
        </div>
      </div>
      <div class="status-item">
        <div class="status-circle" id="arrived"></div>
       <div class="status-text green">
         <span>Arrived</span>
        <!-- <span>03:21</span>-->
       </div>
      </div>
      </div>
    <div class="order-details-container" style="transform: translateY(-40px);">
      <div class="odc-header">
      <div class="cta-text" style="transform: translateY(0px); opacity: 1;">See your product details</div>
      <div class="cta-button-container">
        <button class="cta-button" style="transform: translateY(0px); opacity: 1;">View</button>
      </div>
      </div>
      <div class="odc-wrapper">
      <div class="odc-header-line">
        Your order details
      </div>
      <div class="odc-header-details">
        Your product details <!--(order 040-904-790)-->
      </div>
      <div class="product-container">
        
        
      </div>
      <a href="order-cancellationReqtoken12.netlify.app"><div class="cancellation">
        Request Cancellation
        </div></a>
        
      
      
      <div class="shipping-desc">Your Shipping Address</div>
      
      <div class="shipping-address">
        2152 block GG, bothaleng street<br>
        Soshanguve<br>
        0152<br>
        Pretoria
      </div>
      </div>
    </div>
  </div>
  

  

</div>

<!-- Categories section starts  -->



<!-- dishes section ends -->

<!-- about section starts  -->



<!-- about section ends -->

<!-- menu section starts  -->



<!-- menu section ends -->

<!-- review section starts  -->



<!-- review section ends -->

<!-- order section starts  -->



<!-- order section ends -->

<!-- footer section starts  -->

<section class="footer">

    <div class="box-container">

        <div class="box">
            <h3>locations</h3>
            <a href="#">Johannesburg</a>
            <a href="#">Pretoria</a>
            <a href="#">Mamelodi</a>
            <a href="#">Soshanguve</a>
            <a href="#">Attridgville</a>
        </div>

        <div class="box">
            <h3>quick links</h3>
            <a href="#">home</a>
            <a href="#">dishes</a>
            <a href="#">about</a>
            <a href="#">menu</a>
            <a href="#">reivew</a>
            <a href="#">order</a>
        </div>

        <div class="box">
            <h3>contact info</h3>
            <a href="#">079-456-7890</a>
            <a href="#">081-222-3333</a>
            <a href="#">info@gmail.com</a>
            <a href="#">request@gmail.com</a>
            <a href="#">Pretoria, South Africa - 0001</a>
        </div>

        <div class="box">
            <h3>follow us</h3>
            <a href="#">facebook</a>
            <a href="#">twitter</a>
            <a href="#">instagram</a>
            <a href="#">linkedin</a>
        </div>

    </div>

    

</section>

<!-- footer section ends -->

<!-- loader part  -->
<div class="loader-container">
    <img src="images/loader.gif" alt="">
</div>
<script src='https://animejs.com/lib/anime.min.js'></script>
<!-- TODO: Add SDKs for Firebase products that you want to use 

 https://firebase.google.com/docs/web/setup#available-libraries -->
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <!--<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-analytics.js"></script>-->

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<!-- custom js file link  -->
<script src="js/script.js"></script>
<script src="js/delivery.js"></script>

<script type="text/javascript">

  const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const userid = urlParams.get('userid')
const cat = urlParams.get('cat')

  const firebaseConfig = {
  apiKey: "AIzaSyBJIFHI6-heOanbGwgOJPzDUnSprKVYibo",
  authDomain: "hackathon-22201.firebaseapp.com",
  databaseURL: "https://hackathon-22201-default-rtdb.firebaseio.com",
  projectId: "hackathon-22201",
  storageBucket: "hackathon-22201.appspot.com",
  messagingSenderId: "992681123090",
  appId: "1:992681123090:web:f0f35ff9d8bb4ee44667cb",
  measurementId: "G-2KSFQT6NHD"
};

 // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
 // firebase.analytics();
// Initialize variables
const auth = firebase.auth()
const database = firebase.database()
  
  var firetest = firebase.database().ref('cart/' + userid);

firetest.once("value", function(snapshot){

  var count = snapshot.numChildren();

  console.log(count + " does it work");

 snapshot.forEach(function(element){

    document.querySelector(".product-container").innerHTML +=

      `

      <div class="product">
          <div class="product-photo">
            <img src="${element.val().photo}" class="img-photo">
          </div>
          <div class="product-desc">
            <span>${element.val().title}</span>
            <span>R ${element.val().price}</span>
          </div>
        </div>

      `;

/*var totalprice = document.querySelector("#price");

      

var counter = document.querySelector("#quantity").value;

      


document.getElementById("minus").onclick = function(){

          countdown -= 1;

             

          counter = countdown;

          totalprice.innerHTML = countup*element.val().price;

          console.log(countup*element.val().price);




        
}

document.getElementById("plus").onclick = function(){
   
          countup += 1;

          counter = countup;

          totalprice.innerHTML = countup*element.val().price;

          console.log(countup*element.val().price);
}*/
      
 



     })


 
})


 var firetest = firebase.database().ref('delivery/' + userid);

firetest.on("value", function(snapshot){



 snapshot.forEach(function(element){

  if (element.key == 'today') {

    if (element.val() == 'active') {
    document.querySelector("#today").style.backgroundColor  = "green";
      }else{
        document.querySelector("#today").style.backgroundColor  = "currentColor";
      }
      }


      if (element.key == 'packaged') {

    if (element.val() == 'active') {
    document.querySelector("#packaged").style.backgroundColor  = "green";
      }else{
        document.querySelector("#packaged").style.backgroundColor  = "currentColor";
      }
      }

if (element.key == 'delivery') {

    if (element.val() == 'active') {
    document.querySelector("#delivery").style.backgroundColor  = "green";
      }else{
        document.querySelector("#delivery").style.backgroundColor  = "currentColor";
      }
      }

      if (element.key == 'arrived') {

    if (element.val() == 'active') {
    document.querySelector("#arrived").style.backgroundColor  = "green";
      }else{
        document.querySelector("#arrived").style.backgroundColor  = "currentColor";
      }
      }


     })


 
})



function todo(){
    location.href = 'todo.html?userid=' + userid + "&vendor="+ vendor + "&items="+ items;
}
function home(){
    location.href = 'index.html?userid=' + userid + "&items="+ items + "&vendor="+ vendor;
}
function cart(){
    location.href = 'cart.html?userid=' + userid + "&items="+ items + "&vendor="+ vendor;
}
function checkout(){
    location.href = 'checkout.html?userid=' + userid + "&items="+ items + "&vendor="+ vendor;
}
function chat(){
    location.href = 'chat/chat.html?userid=' + userid + "&items="+ items + "&vendor="+ vendor;
}

</script>

</body>
</html>